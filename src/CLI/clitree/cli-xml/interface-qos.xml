<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE CLISH_MODULE [
    <!ENTITY QOS-PREF "dell-qos">
    <!ENTITY QOS_NS "&QOS-PREF;=http://www.dellemc.com/networking/os10/dell-qos">
    <!ENTITY QOS_INTF_NS "urn:ietf:params:xml:ns:yang:ietf-interfaces,&QOS_NS;">
    <!ENTITY QOS_INTF "/interfaces/interface">
    <!ENTITY QOS_INTF_INFO "&QOS_INTF;/&QOS-PREF;:qos-cfg">
    <!ENTITY QOS_IFACE "&QOS_INTF;/name">
    <!ENTITY FLOW_CNTRL_RX "&QOS_INTF_INFO;/&QOS-PREF;:flow-control-rx">
    <!ENTITY FLOW_CNTRL_TX "&QOS_INTF_INFO;/&QOS-PREF;:flow-control-tx">
    <!ENTITY STORM_BCAST "&QOS_INTF_INFO;/&QOS-PREF;:broadcast-rate-pps">
    <!ENTITY STORM_MCAST "&QOS_INTF_INFO;/&QOS-PREF;:multicast-rate-pps">
    <!ENTITY STORM_UCAST "&QOS_INTF_INFO;/&QOS-PREF;:unknown-unicast-rate-pps">
    <!ENTITY PFC_MODE "&QOS_INTF_INFO;/&QOS-PREF;:pfc-mode">
]>
<CLISH_MODULE
    xmlns="http://www.dellemc.com/force10/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xsi:schemaLocation="http://www.dellemc.com/force10/XMLSchema
            http://www.dellemc.com/force10/XMLSchema/clish.xsd"
    >
    <!--=======================================================-->
    <VIEW
        name="enable-view"
        >
        <COMMAND
            name="show storm-control"
            help="Show storm control configuration"
            operation="get"
            namespace="&QOS_NS;"
            template="show_storm_control.xsl"
            >
            <MACRO name="qos_storm_options"/>
            <PARAM
                name="interface"
                help="Interface configuration"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="ethernet"
                    help="Ethernet type interface"
                    ptype="PHY_INTERFACE"
                    yang_name="&QOS_IFACE;=${ethernet}"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
    </VIEW>
    <VIEW
        name="configure-if-view"
        >
        <COMMAND
            name="flowcontrol"
            help="Flowcontrol configuration"
            operation="edit-config"
            namespace="&QOS_INTF_NS;"
            yang_name="&QOS_IFACE;=${ifacename}"
            >
            <PARAM
               name="rxtx-selection-option"
               help="Flowcontrol direction selection options"
               ptype="SUBCOMMAND"
               mode="switch">
               <PARAM
                   name="receive"
                   help="Rx traffic configuration"
                   mode="subcommand"
                   ptype="SUBCOMMAND"
                   >
                   <PARAM
                       name="rx"
                       help="Rx flowcontrol configuration"
                       mode="switch"
                       ptype="SUBCOMMAND"
                       >
                       <MACRO name="on-off" arg="&FLOW_CNTRL_RX;"/>
                   </PARAM>
               </PARAM>
               <PARAM
                   name="transmit"
                   help="Tx traffic configuration"
                   mode="subcommand"
                   ptype="SUBCOMMAND"
                   >
                   <PARAM
                       name="tx"
                       help="Tx flowcontrol configuration"
                       mode="switch"
                       ptype="SUBCOMMAND"
                       >
                       <MACRO name="on-off" arg="&FLOW_CNTRL_TX;"/>
                   </PARAM>
               </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="priority-flow-control"
            help="Pfc configuration"
            operation="edit-config"
            namespace="&QOS_INTF_NS;"
            yang_name="&QOS_IFACE;=${ifacename}"
            >
            <PARAM
                name="mode"
                help="Pfc mode"
                mode="subcommand"
                operation="edit-config"
                ptype="SUBCOMMAND"
                >
            <PARAM
                name="mode-switch"
                help="Pfc mode"
                mode="switch"
                operation="edit-config"
                ptype="SUBCOMMAND"
                >
                <PARAM
                    name="on"
                    help="Enable pfc"
                    mode="subcommand"
                    ptype="SUBCOMMAND"
                    yang_name="&PFC_MODE;=on"
                    >
                </PARAM>
                <PARAM
                    name="auto"
                    help="Enable auto for dcbx"
                    mode="subcommand"
                    ptype="SUBCOMMAND"
                    pfeature="NOT_SUPPORTED"
                    yang_name="&PFC_MODE;=auto"
                    >
                </PARAM>
            </PARAM>
        </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>

        <COMMAND
            name="no flowcontrol"
            help="Flowcontrol configuration"
            operation="edit-config"
            namespace="&QOS_INTF_NS;"
            >
            <PARAM
               name="rxtx-selection-option"
               help="Flowcontrol direction selection options"
               ptype="SUBCOMMAND"
               mode="switch">
               <PARAM
                   name="receive"
                   help="Rx traffic configuration"
                   mode="subcommand"
                   operation="edit-config"
                   yang_name="&QOS_IFACE;=${ifacename},&FLOW_CNTRL_RX;=false"
                   sub_oper_yang="remove:flow-control-rx"
                   ptype="SUBCOMMAND"
                   >
               </PARAM>
               <PARAM
                   name="transmit"
                   help="Tx traffic configuration"
                   must="true"
                   mode="subcommand"
                   operation="edit-config"
                   yang_name="&QOS_IFACE;=${ifacename},&FLOW_CNTRL_TX;=false"
                   sub_oper_yang="remove:flow-control-tx"
                   ptype="SUBCOMMAND"
                   >
               </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no priority-flow-control"
            help="Disable pfc configuration"
            operation="edit-config"
            namespace="&QOS_INTF_NS;"
            ptype="SUBCOMMAND"
            mode="submcommand"
            yang_name="&QOS_IFACE;=${ifacename},&PFC_MODE;=off"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="storm-control"
            help="Storm-control configuration"
            operation="edit-config"
            namespace="&QOS_INTF_NS;"
            >
            <PARAM
                name="storm-type"
                help="Storm-type"
                ptype="SUBCOMMAND"
                mode="switch"
                yang_name="&QOS_IFACE;=${ifacename}"
                >
                <PARAM
                    name="broadcast"
                    help="Storm-control broadcast configuration"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="bcast"
                        help="Packets per second"
                        ptype="QoS_PKT_RATE"
                        yang_name="&STORM_BCAST;=${bcast}"
                        />
                </PARAM>
                <PARAM
                    name="multicast"
                    help="Storm-control multicast configuration"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="mcast"
                        help="Packets per second"
                        ptype="QoS_PKT_RATE"
                        yang_name="&STORM_MCAST;=${mcast}"
                        />
                </PARAM>
                <PARAM
                    name="unknown-unicast"
                    help="Storm-control unknown-unicast configuration"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="ucast"
                        help="Packets per second"
                        ptype="QoS_PKT_RATE"
                        yang_name="&STORM_UCAST;=${ucast}"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no storm-control"
            help="Storm-control configuration"
            operation="edit-config"
            namespace="&QOS_INTF_NS;"
            >
            <PARAM
                name="strom-type"
                help="Strom-type"
                ptype="SUBCOMMAND"
                mode="switch"
                yang_name="&QOS_IFACE;=${ifacename}"
                >
                <PARAM
                    name="broadcast"
                    help="Storm-control broadcast configuration"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    sub_oper_yang="remove:broadcast-rate-pps"
                    yang_name="&STORM_BCAST;"
                    >
                    <PARAM
                        name="bcast"
                        help="Packets per second"
                        ptype="QoS_PKT_RATE"
                        optional="true"
                        />
                </PARAM>
                <PARAM
                    name="multicast"
                    help="Storm-control multicast configuration"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    sub_oper_yang="remove:multicast-rate-pps"
                    yang_name="&STORM_MCAST;"
                    >
                    <PARAM
                        name="mcast"
                        help="Packets per second"
                        ptype="QoS_PKT_RATE"
                        optional="true"
                        />
                </PARAM>
                <PARAM
                    name="unknown-unicast"
                    help="Storm-control unknown-unicast configuration"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    sub_oper_yang="remove:unknown-unicast-rate-pps"
                    yang_name="&STORM_UCAST;"
                    >
                    <PARAM
                        name="ucast"
                        help="Packets per second"
                        ptype="QoS_PKT_RATE"
                        optional="true"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
    </VIEW>
</CLISH_MODULE>
