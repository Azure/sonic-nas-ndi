<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE CLISH_MODULE [
<!ENTITY NAME_SPACE                     "http://www.dellemc.com/networking/os10/dell-system">
<!ENTITY SUBTREE_FILTER                 "Filter_Type:SUBTREE;">
<!ENTITY HOST_NAME                      "/system/radius/server/address">
<!ENTITY PORT_NUMBER                    "/system/radius/server/authentication-port">
<!ENTITY KEY                            "/system/radius/server/shared-secret">
<!ENTITY SECONDS                        "/system/radius/server/timeout">
<!ENTITY RETRIES                        "/system/radius/server/attempts">
<!ENTITY KEY_GLOBAL                     "/system/radius/options/shared-secret">
<!ENTITY SECONDS_GLOBAL                 "/system/radius/options/timeout">
<!ENTITY RETRIES_GLOBAL                 "/system/radius/options/attempts">
<!ENTITY DEBUG                          "/radius-debug/debug">
<!ENTITY RAD_SERV                       "/system/radius">
]>
<CLISH_MODULE
    xmlns="http://www.dellemc.com/force10/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xsi:schemaLocation="http://www.dellemc.com/force10/XMLSchema
                        http://www.dellemc.com/force10/XMLSchema/clish.xsd"
    >

    <!--=======================================================-->
    <!--                Config MODE                            -->
    <!--=======================================================-->
    <VIEW
        name="configure-view"
        >
        <!-- radius-server -->
        <COMMAND
            name="radius-server"
            help="Specify radius server host and configure its communication parameters"
            operation="edit-config"
            namespace="&NAME_SPACE;"
            default_oper="merge"
            >
            <PARAM
                name="options"
                help="Select from given options"
                ptype="SUBCOMMAND"
                mode="switch"
                >

                <PARAM
                    name="host"
                    help="Specify a RADIUS server host"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_key="&HOST_NAME;"
                    >
                    <PARAM
                        name="hostname"
                        help="Hostname(fully qualified domain name) or ipv4/ipv6 address of RADIUS server host"
                        ptype="STRING"
                        yang_name="&HOST_NAME;=${hostname}"
                        >
                        <PARAM
                            name="auth-port"
                            help="Specify authentication port(default 1812)"
                            ptype="SUBCOMMAND"
                            optional="true"
                            mode="subcommand"
                            >
                            <PARAM
                                name="port-number"
                                help="Enter the port number"
                                ptype="UINT"
                                yang_name="&PORT_NUMBER;=${port-number}"
                                />
                        </PARAM>

                        <PARAM
                            name="key"
                            help="Specify the authentication key(defaults to global setting)"
                            ptype="SUBCOMMAND"
                            optional="true"
                            mode="subcommand"
                            >
                            <PARAM
                                name="key-value"
                                help="Key value known both to the RADIUS client and server"
                                ptype="STRING"
                                yang_name="&KEY;=${key-value}"
                                />
                        </PARAM>
                    </PARAM>
                </PARAM>
                <PARAM
                    name="retransmit"
                    help="Specify number of retransmission(default: 3)"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="retries"
                        help="Number of attempts in the range 0-100(default: 3)"
                        ptype="UINT"
                        yang_name="&RETRIES_GLOBAL;=${retries}"
                    />
                </PARAM>
                <PARAM
                    name="timeout"
                    help="Specify timeout for retransmission(default: 5 secs)"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="seconds"
                        help="Time in seconds which lies in the Range 0-1000(default: 5 secs)"
                        ptype="UINT"
                        yang_name="&SECONDS_GLOBAL;=${seconds}"
                    />
                </PARAM>
            </PARAM>

            <ACTION
                builtin="clish_extn"
            />
        </COMMAND>
        <!-- no radius-server host -->
        <COMMAND name="no radius-server" help="Delete a radius-server"/>
        <COMMAND
            name="no radius-server host"
            operation="edit-config"
            namespace="&NAME_SPACE;"
            help="Delete radius server host"
            default_oper="merge"
            >
            <PARAM
                name="hostname"
                help="Hostname(fully qualified domain name) or ipv4/ipv6 address of RADIUS server host"
                ptype="STRING"
                sub_oper_yang="remove:server"
                yang_name="&HOST_NAME;=${hostname}"
                >
                <PARAM
                    name="wrapper-switch"
                    help="Select from given options"
                    ptype="SUBCOMMAND"
                    mode="switch"
                    order="true"
                    optional="true"
                    >
                    <PARAM
                        name="auth-port1"
                        value="auth-port"
                        help="Reset authentication port to default"
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        yang_name="&PORT_NUMBER;"
                        sub_oper_yang="clear;remove:authentication-port"
                        >
                        <PARAM
                            name="key1"
                            value="key"
                            help="Reset radius server key to global"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&KEY;"
                            optional="true"
                            sub_oper_yang="remove:shared-secret"/>
                    </PARAM>
                    <PARAM
                        name="key2"
                        value="key"
                        help="Reset radius server key to global"
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        yang_name="&KEY;"
                        sub_oper_yang="clear;remove:shared-secret"
                        >
                        <PARAM
                            name="auth-port2"
                            value="auth-port"
                            help="Reset authentication port to default"
                            ptype="SUBCOMMAND"
                            optional="true"
                            mode="subcommand"
                            yang_name="&PORT_NUMBER;"
                            sub_oper_yang="remove:authentication-port"/>
                    </PARAM>
                </PARAM>
            </PARAM>
            <ACTION builtin="clish_extn"/>
        </COMMAND>
        <!-- no radius-server retransmit -->
        <COMMAND
            name="no radius-server retransmit"
            operation="edit-config"
            namespace="&NAME_SPACE;"
            help="Reset radius server retransmit to default(3)"
            sub_oper_yang="remove:attempts"
            yang_name="&RETRIES_GLOBAL;"
            >
            <ACTION
                builtin="clish_extn"
            />
        </COMMAND>

        <!-- no radius-server timeout -->
        <COMMAND
            name="no radius-server timeout"
            operation="edit-config"
            namespace="&NAME_SPACE;"
            help="Reset radius server timeout to default(5 seconds)"
            sub_oper_yang="remove:timeout"
            yang_name="&SECONDS_GLOBAL;"
            >
            <ACTION
                builtin="clish_extn"
            />
        </COMMAND>

    </VIEW>
      <!--=======================================================-->
    <VIEW name="enable-view">
         <!-- debug command for RADIUS -->
        <COMMAND
           name="debug radius"
           help="Enable debug for RADIUS"
           namespace="&NAME_SPACE;"
           operation="generic-rpc"
           yang_name="&DEBUG;=true">
           <ACTION
              builtin="clish_extn"
           />
        </COMMAND>


         <COMMAND
           name="no debug radius"
           help="Disable debug for RADIUS"
           namespace="&NAME_SPACE;"
           operation="generic-rpc"
           yang_name="&DEBUG;=false">
           <ACTION
              builtin="clish_extn"
           />
         </COMMAND>

        <!--show candidate-configuration radius-server -->
      <COMMAND
        name="show candidate-configuration radius-server"
        help="Current candidate radius-server configuration"
        yang_filter="&SUBTREE_FILTER;Filter_Conditions:&RAD_SERV;;Filter_Namespace:&NAME_SPACE;"
        db_mode="configure"
        >
        <ACTION builtin="clish_extn"> </ACTION>
      </COMMAND>

    <!--show running-configuration radius-server -->
      <COMMAND
        name="show running-configuration radius-server"
        help="Current operating radius-server configuration"
        yang_filter="&SUBTREE_FILTER;Filter_Conditions:&RAD_SERV;;Filter_Namespace:&NAME_SPACE;"
        db_mode="configure"
        >
        <ACTION builtin="clish_extn"> </ACTION>
      </COMMAND>

    </VIEW>
</CLISH_MODULE>
