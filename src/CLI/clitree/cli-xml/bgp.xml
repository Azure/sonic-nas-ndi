<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE CLISH_MODULE [
<!ENTITY SUBTREE_FILTER                        "Filter_Type:SUBTREE;">
<!ENTITY NS_FILTER                             "http://www.dellemc.com/networking/os10/dell-bgp">
<!ENTITY VRF                                   "/bgp-router/vrf">
<!ENTITY VRF_NAME                              "&VRF;/vrf-name=default">
<!ENTITY ROUTER_COMMON                         "&VRF_NAME;,&VRF;">
<!ENTITY IPV4_UNICAST                          "&VRF;/ipv4-unicast">
<!ENTITY IPV4_UNICAST_BASE                     "&VRF_NAME;,&IPV4_UNICAST;">
<!ENTITY IPV6_UNICAST                          "&VRF;/ipv6-unicast">
<!ENTITY IPV6_UNICAST_BASE                     "&VRF_NAME;,&IPV6_UNICAST;">
<!ENTITY PEER_GROUP_CONFIG                     "&VRF;/peer-group-config">
<!ENTITY PEER_CONFIG                           "&VRF;/peer-config">
<!ENTITY PEER_GROUP_NEIGHBOR_IPV4_UNICAST      "&PEER_GROUP_CONFIG;/ipv4-unicast">
<!ENTITY PEER_CONFIG_NEIGHBOR_IPV4_UNICAST     "&PEER_CONFIG;/ipv4-unicast">
<!ENTITY PEER_GROUP_NEIGHBOR_IPV6_UNICAST      "&PEER_GROUP_CONFIG;/ipv6-unicast">
<!ENTITY PEER_CONFIG_NEIGHBOR_IPV6_UNICAST     "&PEER_CONFIG;/ipv6-unicast">
]>
<CLISH_MODULE
    xmlns="http://www.dellemc.com/force10/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xsi:schemaLocation="http://www.dellemc.com/force10/XMLSchema
						http://www.dellemc.com/force10/XMLSchema/clish.xsd"
    >
    <!--=================================================================-->
    <!-- ********************************************************************** -->
    <!-- *  SHOW COMMANDS                                                  * -->
    <!-- *  View : enable-view                                             * -->
    <!-- ********************************************************************** -->
    <VIEW
        name="enable-view"
        >
        <!--show candidate-configuration bgp -->
        <COMMAND
            name="show candidate-configuration bgp"
            help="Current candidate bgp configuration"
            yang_filter="&SUBTREE_FILTER;Filter_Conditions:/bgp-router;Filter_Namespace:&NS_FILTER;"
            db_mode="configure-router-bgp"
            >
            <ACTION builtin="clish_extn"> </ACTION>
        </COMMAND>

        <!--show running-configuration bgp -->
        <COMMAND
            name="show running-configuration bgp"
            help="Current operating bgp configuration"
            yang_filter="&SUBTREE_FILTER;Filter_Conditions:/bgp-router;Filter_Namespace:&NS_FILTER;"
            db_mode="configure-router-bgp"
            >
            <ACTION builtin="clish_extn"> </ACTION>
        </COMMAND>
    </VIEW>

    <!-- ********************************************************************** -->
    <!-- *  CONFIGURATION COMMANDS                                            * -->
    <!-- *  View : configure-view                                             * -->
    <!-- ********************************************************************** -->
    <VIEW
        name="configure-view"
        >
        <COMMAND
            name="router bgp"
            help="Border Gateway protocol (BGP)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            view="configure-router-bgp-view"
            viewid="instance=${as-num-dot}"
            yang_key="/bgp-router/vrf/vrf-name"
            >
            <PARAM
                 name="as-num-dot"
                 help="Autonomous system number"
                 ptype="RANGE_1_4294967295"
                 prompt_fn="bgp_is_already_running"
                 prompt_str="${as-num-dot}"
                 yang_name="&VRF_NAME;,/bgp-router/vrf/local-as-number=${as-num-dot}"
                 />
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no router bgp"
            help="Border Gateway protocol (BGP)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            sub_oper_yang="remove:vrf"
            yang_name="&VRF_NAME;"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
    </VIEW>
    <!-- ********************************************************************** -->
    <!-- *  CONFIGURATION COMMANDS                                            * -->
    <!-- *  View : configure-router-bgp-view                                  * -->
    <!-- ********************************************************************** -->
    <VIEW
        name="configure-router-bgp-view"
        prompt="${SYSTEM_NAME}(config-router-bgp-${instance})# "
        depth="2"
        >
        <!-- Inheritance -->
        <NAMESPACE
            ref="configure-view"
            help="false"
            completion="false"
            />
        <!-- show configuration candidate -->
        <COMMAND
            name="show"
            help="show configuration"
        />
        <COMMAND
            name="show configuration candidate"
            help="Current candidate configuration"
            yang_filter="&SUBTREE_FILTER;Filter_Conditions:/bgp-router;Filter_Namespace:&NS_FILTER;"
            >
            <ACTION builtin="clish_extn"> </ACTION>
        </COMMAND>
        <!-- show configuration -->
        <COMMAND
            name="show configuration"
            help="Current configuration (default = running)"
            yang_filter="&SUBTREE_FILTER;Filter_Conditions:/bgp-router;Filter_Namespace:&NS_FILTER;"
            >
            <ACTION builtin="clish_extn"> </ACTION>
        </COMMAND>
        <!-- always-compare-med -->
        <COMMAND
            name="always-compare-med"
            help="Allow comparing MED from different neighbors"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/always-compare-med"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- as-notation -->
        <COMMAND
            name="as-notation"
            help="Change the AS number notation format (requires four-octet-as support)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            pfeature = "FEATURE_BGP_R2"
            >
            <PARAM
                name="asnotation-commands"
                help="asnotation-sub-commands"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="asdot"
                    help="AS number notation in asdot format"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_name="&ROUTER_COMMON;/as-notation=asdot"
                    />
                <PARAM
                    name="asdot+"
                    help="AS number notation in asdot+ format"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_name="&ROUTER_COMMON;/as-notation=asdot+"
                    />
                <PARAM
                    name="asplain"
                    help="AS number notation in asplain format (default)"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_name="&ROUTER_COMMON;/as-notation=asplain"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- bestpath -->
        <COMMAND
            name="bestpath"
            help="Change the default bestpath selection"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="bestpath-commands"
                help="bestpath-sub-commands"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="as-path"
                    help="AS path for best path computation"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="as-path-commands"
                        help="as-path-sub-commands"
                        ptype="SUBCOMMAND"
                        mode="switch"
                        >
                        <PARAM
                            name="ignore"
                            help="Ignore AS path for best path computation"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&ROUTER_COMMON;/bestpath/aspath-ignore"
                            />
                        <PARAM
                            name="multipath-relax"
                            help="Include prefixes received from different AS path during multipath calculation"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&ROUTER_COMMON;/bestpath/aspath-multipath-relax"
                            />
                    </PARAM>
                </PARAM>
                <PARAM
                    name="med"
                    help="MED attribute"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="med-commands"
                        help="med-sub-commands"
                        ptype="SUBCOMMAND"
                        mode="switch"
                        >
                        <PARAM
                            name="confed"
                            help="Compare MED among confederation paths"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&ROUTER_COMMON;/bestpath/med-confed"
                            />
                        <PARAM
                            name="missing-as-worst"
                            help="Treat missing MED as the least preferred one"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&ROUTER_COMMON;/bestpath/missing-as-best"
                            />
                    </PARAM>
                </PARAM>
                <PARAM
                    name="router-id"
                    help="Router identifier for best path computation"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="ignore"
                        help="Ignore AS path for best path computation"
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        yang_name="&ROUTER_COMMON;/bestpath/ignore-routerid"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- client-to-client -->
        <COMMAND
            name="client-to-client"
            help="Configure client to client route reflection"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            add_config_entry="false"
            >
            <PARAM
                name="reflection"
                help="Reflection of routes allowed"
                ptype="SUBCOMMAND"
                mode="subcommand"
                yang_name="&ROUTER_COMMON;/client-to-client-reflection=true"
                />
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- cluster-id -->
        <COMMAND
            name="cluster-id"
            help="Configure Route-Reflector Cluster-id"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="cluster-id-commands"
                help="cluster-id-sub-commands"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="id"
                    help="Route-Reflector Cluster-id as 32 bit quantity (default = router-id)"
                    ptype="RANGE_1_4294967295"
                    yang_name="&ROUTER_COMMON;/cluster-id-value=${id}"
                    />
                <PARAM
                    name="ip"
                    help="Route-Reflector Cluster-id in IP address format (default = router-id)"
                    ptype="IP_ADDR"
                    yang_name="&ROUTER_COMMON;/cluster-id-value=${ip}"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- confederation -->
        <COMMAND
            name="confederation"
            help="AS confederation parameters"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="confederation-commands"
                help="confederation-sub-commands"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="identifier"
                    help="Set routing domain confederation AS"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="id"
                        help="AS number"
                        ptype="RANGE_1_4294967295"
                        yang_name="&ROUTER_COMMON;/confederation-identifier=${id}"
                        />
                </PARAM>
                <PARAM
                    name="peers"
                    help="Peer ASs in BGP confederation"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_name="&VRF_NAME;"
                    >
                    <PARAM
                        name="peer"
                        help="Peer AS"
                        recursive="true"
                        ptype="RANGE_1_4294967295"
                        yang_name="&VRF;/confed-peer-as=${peer}"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- default local-preference -->
        <COMMAND
            name="default"
            help="Configure BGP defaults"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="local-preference"
                help="Local preference (higher=more preferred)"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="local-pref"
                    help="Configure default local preference value (default = 100)"
                    ptype="RANGE_1_4294967295"
                    yang_name="&ROUTER_COMMON;/default-local-pref=${local-pref}"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- enforce-first-as -->
        <COMMAND
            name="enforce-first-as"
            help="Enforce the first AS for EBGP routes(default)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/enforce-first-as=true"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- fast-external-fallover -->
        <COMMAND
            name="fast-external-fallover"
            help="Immediately reset session if a link to a directly connected external peer goes down(default)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/fast-external-fallover=true"
            add_config_entry="false"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- four-octet-as-support -->
        <COMMAND
            name="four-octet-as-support"
            help="Enable 4-octet AS support (all sessions will be recycled)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/four-octet-as-support=true"
            add_config_entry="false"
            pfeature = "FEATURE_BGP_R2"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- Graceful-restart role support -->
        <COMMAND
            name="graceful-restart"
            help="Enable graceful restart capability"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="role"
                help="Set the restart role of the local router"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="receiver-only"
                    help="Local router will support graceful restart as a receiver only"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_name="&ROUTER_COMMON;/graceful-restart/helper-only=true"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="log-neighbor-changes"
            help="Log neighbor up/down and reset reason(default)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/log-neighbor-changes=true"
            add_config_entry = "false"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="non-deterministic-med"
            help="Use nondeterministic path selection algorithm"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/non-deterministic-med=true"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="outbound-optimization"
            help="Enables outbound optimization for IBGP Peer-group members"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/outbound-optimization"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="router-id"
            help="Override configured router identifier"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="ip"
                help="Manually configured router identifier"
                ptype="IPV4_ADDR_ABC"
                yang_name="&ROUTER_COMMON;/router-id=${ip}"
                />
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- router bgp maximum-paths -->
        <MACRO name="MAXIMUM_PATHS" arg="&VRF_NAME;\,&VRF;" />
        <!-- neighbor -->
        <COMMAND
            name="neighbor"
            help="Specify a neighbor router"
            operation="edit-config"
            namespace="&NS_FILTER;"
            view="configure-router-bgp-nbr-view"
            viewid="nbr-addr=${ip}"
            yang_key="&PEER_CONFIG;/remote-address"
            >
            <PARAM
                 name="ip"
                 help="Specify a neighbor router"
                 ptype="IPV4V6_ADDR"
                 yang_name="&VRF_NAME;,&PEER_CONFIG;/remote-address"
                 prompt_oper="${ip}"
                 prompt_fn="trim_ip"
                 />
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- neighbor peer-group -->
        <COMMAND
            name="template"
            help="Specify a template to use for the neighbor"
            operation="edit-config"
            namespace="&NS_FILTER;"
            view="configure-router-bgp-pgrp-view"
            viewid="nbr-addr=${nbr}"
            yang_key="&PEER_GROUP_CONFIG;/name"
            >
            <PARAM
                name="nbr"
                help="Template tag (max 16 chars)"
                ptype="STRING"
                yang_name="&VRF_NAME;,&PEER_GROUP_CONFIG;/name=${nbr}"
                />
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- address-family -->
        <!-- address-family ipv6 unicast -->
        <MACRO name="AF_CMDS" arg="" />
        <COMMAND
            name="address-family ipv6 unicast"
            help="Address Family"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            view="configure-router-bgp-af-v6-view"
            viewid="afview=configure-router-bgpv6-af"
            yang_name="&IPV6_UNICAST_BASE;"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- address-family ipv4 unicast -->
        <COMMAND
            name="address-family ipv4 unicast"
            help="Address Family"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            view="configure-router-bgp-af-v4-view"
            viewid="afview=configure-router-bgpv4-af"
            yang_name="&IPV4_UNICAST_BASE;"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- no -->
        <COMMAND
            name="no"
            help="no commands"
            />
        <COMMAND
            name="no fast-external-fallover"
            help="Immediately reset session if a link to a directly connected external peer goes down(default)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            default_oper="merge"
            yang_name="&ROUTER_COMMON;/fast-external-fallover=false"
            add_config_entry = "true"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no four-octet-as-support"
            help="Enable 4-octet AS support (all sessions will be recycled)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            default_oper="merge"
            yang_name="&ROUTER_COMMON;/four-octet-as-support=false"
            add_config_entry = "true"
            pfeature = "FEATURE_BGP_R2"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no log-neighbor-changes"
            help="Log neighbor up/down and reset reason(default)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            default_oper="merge"
            yang_name="&ROUTER_COMMON;/log-neighbor-changes=false"
            add_config_entry = "true"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no client-to-client"
            help="Configure client to client route reflection"
            operation="edit-config"
            default_oper="merge"
            namespace="&NS_FILTER;"
            mode="subcommand"
            add_config_entry = "true"
            >
            <PARAM
                name="reflection"
                help="Reflection of routes allowed"
                ptype="SUBCOMMAND"
                mode="subcommand"
                yang_name="&ROUTER_COMMON;/client-to-client-reflection=false"
                />
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no enforce-first-as"
            help="Enforce the first AS for EBGP routes(default)"
            operation="edit-config"
            default_oper="merge"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/enforce-first-as=false"
            add_config_entry= "true"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
    </VIEW>
    <!-- ********************************************************************** -->
    <!-- *  CONFIGURATION COMMANDS                                            * -->
    <!-- *  View : configure-router-bgp-nbr-view                              * -->
    <!-- ********************************************************************** -->
    <VIEW
        name="configure-router-bgp-nbr-view"
        prompt="${SYSTEM_NAME}(config-router-neighbor)# "
        depth="3"
        >
        <!-- Inheritance -->
        <NAMESPACE
            ref="configure-view"
            help="false"
            completion="false"
            />
        <NAMESPACE
            ref="configure-router-bgp-view"
            help="false"
            completion="false"
            />
        <!-- show configuration candidate -->
        <COMMAND
            name="show"
            help="show configuration"
        />
        <COMMAND
            name="show configuration candidate"
            help="Current candidate configuration"
            yang_filter="&SUBTREE_FILTER;Filter_Conditions:&VRF_NAME;,&PEER_CONFIG;/remote-address=${nbr-addr};Filter_Namespace:&NS_FILTER;"
            >
            <ACTION builtin="clish_extn"> </ACTION>
        </COMMAND>
        <!-- show configuration -->
        <COMMAND
            name="show configuration"
            help="Current configuration (default = running)"
            yang_filter="&SUBTREE_FILTER;Filter_Conditions:&VRF_NAME;,&PEER_CONFIG;/remote-address=${nbr-addr};Filter_Namespace:&NS_FILTER;"
            >
            <ACTION builtin="clish_extn"> </ACTION>
        </COMMAND>
        <COMMAND
            name="no"
            help="no commands"
            namespace="&NS_FILTER;"
            />
        <MACRO name="NEIGHBOR_CMDS" arg="&VRF_NAME;\,&PEER_CONFIG;/remote-address=${nbr-addr}\,&PEER_CONFIG;,&PEER_CONFIG;" />
        <MACRO name="NEIGHBOR_ONLY_CMDS" arg="&VRF_NAME;\,&PEER_CONFIG;/remote-address=${nbr-addr}\,&PEER_CONFIG;" />
        <MACRO name="AF_CMDS" arg="" />
        <COMMAND
            name="address-family ipv4 unicast"
            help="Enter Address Family command mode"
            namespace="&NS_FILTER;"
            operation="edit-config"
            mode="subcommand"
            view="configure-router-bgp-nbr-af-v4-view"
            viewid="nbr-addr=${nbr-addr}"
            yang_name="&VRF_NAME;,&PEER_CONFIG;/remote-address=${nbr-addr},&PEER_CONFIG;/ipv4-unicast"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="address-family ipv6 unicast"
            help="Enter Address Family command mode"
            namespace="&NS_FILTER;"
            operation="edit-config"
            mode="subcommand"
            view="configure-router-bgp-nbr-af-v6-view"
            viewid="nbr-addr=${nbr-addr}"
            yang_name="&VRF_NAME;,&PEER_CONFIG;/remote-address=${nbr-addr},&PEER_CONFIG;/ipv6-unicast"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <MACRO name="NO_NEIGHBOR_PEER_CMDS" arg="&VRF_NAME;\,&PEER_CONFIG;/remote-address=${nbr-addr}\,&PEER_CONFIG;" />
        <MACRO name="NO_NEIGHBOR_CMDS" arg="&VRF_NAME;\,&PEER_CONFIG;/remote-address=${nbr-addr}\,&PEER_CONFIG;" />
        <MACRO name="NO_NEIGHBOR_ONLY_CMDS" arg="&VRF_NAME;\,&PEER_CONFIG;/remote-address=${nbr-addr}\,&PEER_CONFIG;" />
    </VIEW>
    <!-- ********************************************************************** -->
    <!-- *  CONFIGURATION COMMANDS                                            * -->
    <!-- *  View : configure-router-bgp-pgrp-view                             * -->
    <!-- ********************************************************************** -->
    <VIEW
        name="configure-router-bgp-pgrp-view"
        prompt="${SYSTEM_NAME}(config-router-template)# "
        depth="3"
        >
        <!-- Inheritance -->
        <NAMESPACE
            ref="configure-view"
            help="false"
            completion="false"
            />
        <NAMESPACE
            ref="configure-router-bgp-view"
            help="false"
            completion="false"
            />
        <!-- show configuration candidate -->
        <COMMAND
            name="show"
            help="show configuration"
        />
        <COMMAND
            name="show configuration candidate"
            help="Current candidate configuration"
            yang_filter="&SUBTREE_FILTER;Filter_Conditions:&VRF_NAME;,&PEER_GROUP_CONFIG;/name=${nbr-addr};Filter_Namespace:&NS_FILTER;"
            >
            <ACTION builtin="clish_extn"> </ACTION>
        </COMMAND>
        <!-- show configuration -->
        <COMMAND
            name="show configuration"
            help="Current configuration (default = running)"
            yang_filter="&SUBTREE_FILTER;Filter_Conditions:&VRF_NAME;,&PEER_GROUP_CONFIG;/name=${nbr-addr};Filter_Namespace:&NS_FILTER;"
            >
            <ACTION builtin="clish_extn"> </ACTION>
        </COMMAND>
        <COMMAND
            name="no"
            help="no commands"
            namespace="&NS_FILTER;"
            />
        <MACRO name="AF_CMDS" arg="" />
        <MACRO name="NEIGHBOR_CMDS" arg="&VRF_NAME;\,&PEER_GROUP_CONFIG;/name=${nbr-addr}\,&PEER_GROUP_CONFIG;,&PEER_GROUP_CONFIG;" />
        <COMMAND
            name="address-family ipv4 unicast"
            help="Enter Address Family command mode"
            namespace="&NS_FILTER;"
            operation="edit-config"
            mode="subcommand"
            view="configure-router-bgp-pgrp-af-v4-view"
            viewid="nbr-addr=${nbr-addr}"
            yang_name="&VRF_NAME;,&PEER_GROUP_CONFIG;/name=${nbr-addr},&PEER_GROUP_CONFIG;/ipv4-unicast"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="address-family ipv6 unicast"
            help="Enter Address Family command mode"
            namespace="&NS_FILTER;"
            operation="edit-config"
            mode="subcommand"
            view="configure-router-bgp-pgrp-af-v6-view"
            viewid="afview=configure-router-bgp-pgrp-af-v6;nbr-addr=${nbr-addr}"
            yang_name="&VRF_NAME;,&PEER_GROUP_CONFIG;/name=${nbr-addr},&PEER_GROUP_CONFIG;/ipv6-unicast"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <MACRO name="NO_NEIGHBOR_PEER_GRP_CMDS" arg="&VRF_NAME;\,&PEER_GROUP_CONFIG;/name=${nbr-addr}\,&PEER_GROUP_CONFIG;" />
        <MACRO name="NO_NEIGHBOR_CMDS" arg="&VRF_NAME;\,&PEER_GROUP_CONFIG;/name=${nbr-addr}\,&PEER_GROUP_CONFIG;" />
        <COMMAND
            name="listen"
            help="Set the prefix range for dynamic peers"
            namespace="&NS_FILTER;"
            operation="edit-config"
            ptype="SUBCOMMAND"
            mode="subcommand"
            yang_key="&PEER_GROUP_CONFIG;/peer-range-config/remote-address-prefix"
            >
            <PARAM
                name="ip"
                help="Neighbor prefix"
                ptype="IPV4_IPV6_NETWORK"
                yang_name="&VRF_NAME;,&PEER_GROUP_CONFIG;/name=${nbr-addr},&PEER_GROUP_CONFIG;/peer-range-config/remote-address-prefix"
                prompt_oper="${ip}"
                prompt_fn="trim_ip"
                >
                <PARAM
                    name="limit"
                    help="Maximum dynamic peers count"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    optional="true"
                    >
                    <PARAM
                        name="value"
                        help="Peer count"
                        ptype="RANGE_1_4294967295"
                        yang_name="&PEER_GROUP_CONFIG;/peer-range-config/max-count=${value}"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- no listen prefix limit -->
        <COMMAND
            name="no listen"
            help="Set the prefix range for dynamic peer"
            namespace="&NS_FILTER;"
            operation="edit-config"
            ptype="SUBCOMMAND"
            mode="subcommand"
            >
            <PARAM
                name="ip"
                help="Neighbor prefix"
                ptype="IPV4_IPV6_NETWORK"
                sub_oper_yang="remove:peer-range-config"
                yang_name="&VRF_NAME;,&PEER_GROUP_CONFIG;/name=${nbr-addr},&PEER_GROUP_CONFIG;/peer-range-config/remote-address-prefix"
                prompt_oper="${ip}"
                prompt_fn="trim_ip"
                >
                <PARAM
                    name="limit"
                    help="Maximum dynamic peers count"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    optional="true"
                    >
                    <PARAM
                        name="value"
                        help="Peer count"
                        ptype="RANGE_1_4294967295"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
    </VIEW>
    <!-- ********************************************************************** -->
    <!-- *  UNCONFIGURATION COMMANDS                                          * -->
    <!-- *  View : configure-router-bgp-view                                  * -->
    <!-- ********************************************************************** -->
    <VIEW
        name="configure-router-bgp-view"
        >
        <!-- Inheritance -->
        <NAMESPACE
            ref="configure-view"
            help="false"
            completion="false"
            />
        <COMMAND
            name="no always-compare-med"
            help="Allow comparing MED from different neighbors"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/always-compare-med"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no as-notation"
            help="Change the AS number notation format (requires four-octet-as support)"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            pfeature = "FEATURE_BGP_R2"
            yang_name="&ROUTER_COMMON;/as-notation"
            >
            <PARAM
                name="asnotation-commands"
                help="asnotation-sub-commands"
                ptype="SUBCOMMAND"
                optional="true"
                mode="switch"
                >
                <PARAM
                    name="asdot"
                    help="AS number notation in asdot format"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    />
                <PARAM
                    name="asdot+"
                    help="AS number notation in asdot+ format"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    />
                <PARAM
                    name="asplain"
                    help="AS number notation in asplain format (default)"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no bestpath"
            help="Change the default bestpath selection"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="bestpath-commands"
                help="bestpath-sub-commands"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="as-path"
                    help="AS path for best path computation"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="as-path-commands"
                        help="as-path-sub-commands"
                        ptype="SUBCOMMAND"
                        mode="switch"
                        >
                        <PARAM
                            name="ignore"
                            help="Ignore AS path for best path computation"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&ROUTER_COMMON;/bestpath/aspath-ignore"
                            />
                        <PARAM
                            name="multipath-relax"
                            help="Include prefixes received from different AS path during multipath calculation"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&ROUTER_COMMON;/bestpath/aspath-multipath-relax"
                            />
                    </PARAM>
                </PARAM>
                <PARAM
                    name="med"
                    help="MED attribute"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="med-commands"
                        help="med-sub-commands"
                        ptype="SUBCOMMAND"
                        mode="switch"
                        >
                        <PARAM
                            name="confed"
                            help="Compare MED among confederation paths"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&ROUTER_COMMON;/bestpath/med-confed"
                            />
                        <PARAM
                            name="missing-as-worst"
                            help="Treat missing MED as the least preferred one"
                            ptype="SUBCOMMAND"
                            mode="subcommand"
                            yang_name="&ROUTER_COMMON;/bestpath/missing-as-best"
                            />
                    </PARAM>
                </PARAM>
                <PARAM
                    name="router-id"
                    help="Router identifier for best path computation"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="ignore"
                        help="Ignore AS path for best path computation"
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        yang_name="&ROUTER_COMMON;/bestpath/ignore-routerid"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no cluster-id"
            help="Configure Route-Reflector Cluster-id"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/cluster-id-value"
            >
            <PARAM
                name="cluster-id-commands"
                help="cluster-id-sub-commands"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="id"
                    help="Route-Reflector Cluster-id as 32 bit quantity (default = router-id)"
                    ptype="RANGE_1_4294967295"
                    />
                <PARAM
                    name="ip"
                    help="Route-Reflector Cluster-id in IP address format (default = router-id)"
                    ptype="IP_ADDR"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no confederation"
            help="AS confederation parameters"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="confederation-commands"
                help="confederation-sub-commands"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="identifier"
                    help="AS number"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_name="&ROUTER_COMMON;/confederation-identifier"
                    >
                    <PARAM
                        name="id"
                        help="AS number"
                        ptype="RANGE_1_4294967295"
                        optional="true"
                        />
                </PARAM>
                <PARAM
                    name="peers"
                    help="Peer ASs in BGP confederation"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_name="&VRF_NAME;"
                    >
                    <PARAM
                        name="peer"
                        help="Peer AS"
                        ptype="RANGE_1_4294967295"
                        recursive="true"
                        sub_oper_yang="remove:confed-peer-as"
                        yang_name="&VRF;/confed-peer-as=${peer}"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no default"
            help="Configure BGP defaults"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="local-preference"
                help="Local preference (higher=more preferred)"
                ptype="SUBCOMMAND"
                mode="subcommand"
                yang_name="&ROUTER_COMMON;/default-local-pref"
                >
                <PARAM
                    name="local-pref"
                    help="Configure default local preference value (default = 100)"
                    ptype="RANGE_1_4294967295"
                    optional="true"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- No Graceful-restart role support -->
        <COMMAND
            name="no graceful-restart"
            help="Disable graceful restart capability"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            >
            <PARAM
                name="role"
                help="Set the restart role of the local router"
                ptype="SUBCOMMAND"
                mode="subcommand"
                >
                <PARAM
                    name="receiver-only"
                    help="Local router will support graceful restart as a receiver only"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    yang_name="&ROUTER_COMMON;/graceful-restart/helper-only=false"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- router bgp maximum-paths -->
        <MACRO name="NO_MAXIMUM_PATHS" arg="&VRF_NAME;\,&VRF;" />
        <!-- end of router bgp maximum-paths -->
        <COMMAND
            name="no non-deterministic-med"
            help="Use nondeterministic path selection algorithm"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/non-deterministic-med"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no outbound-optimization"
            help="Enables outbound optimization for IBGP Peer-group members"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            yang_name="&ROUTER_COMMON;/outbound-optimization"
            >
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <COMMAND
            name="no router-id"
            help="Override configured router identifier"
            operation="edit-config"
            namespace="&NS_FILTER;"
            mode="subcommand"
            sub_oper_yang="remove:router-id"
            yang_name="&ROUTER_COMMON;/router-id"
            >
            <PARAM
                name="ip"
                help="Manually configured router identifier"
                optional="true"
                ptype="IPV4_ADDR_ABC"
                />
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- end of router bgp as-num bgp -->
        <!-- start of router bgp neighbor -->
        <!-- neighbor -->
        <COMMAND
            name="no neighbor"
            help="Specify a neighbor router"
            operation="edit-config"
            namespace="&NS_FILTER;"
            >
            <PARAM
                name="nbr-ip-commands"
                help="nbr-ip-commands"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="ip"
                    help="Specify a neighbor router"
                    ptype="IPV4V6_ADDR"
                    sub_oper_yang="remove:peer-config"
                    yang_name="&VRF_NAME;,&PEER_CONFIG;/remote-address"
                    prompt_oper="${ip}"
                    prompt_fn="trim_ip"
                    />
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- neighbor peer-group -->
        <COMMAND
            name="no template"
            help="Specify a template to use for the neighbor"
            operation="edit-config"
            namespace="&NS_FILTER;"
            >
            <PARAM
                name="nbr"
                help="Template tag (max 16 chars)"
                ptype="STRING"
                sub_oper_yang="remove:peer-group-config"
                yang_name="&VRF_NAME;,&PEER_GROUP_CONFIG;/name=${nbr}"
                />
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
        <!-- start of router bgp address-family -->
        <COMMAND
            name="no address-family"
            help="Enter Address Family command mode"
            operation="edit-config"
            namespace="&NS_FILTER;"
            >
            <PARAM
                name="addr-family-switch"
                help="Address Family switch"
                ptype="SUBCOMMAND"
                mode="switch"
                >
                <PARAM
                    name="ipv6"
                    help="Address Family"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="unicast"
                        help="Address Family modifier"
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        yang_name="&IPV6_UNICAST_BASE;"
                        />
                </PARAM>
                <PARAM
                    name="ipv4"
                    help="Address Family"
                    ptype="SUBCOMMAND"
                    mode="subcommand"
                    >
                    <PARAM
                        name="unicast"
                        help="Address Family modifier"
                        ptype="SUBCOMMAND"
                        mode="subcommand"
                        yang_name="&IPV4_UNICAST_BASE;"
                        />
                </PARAM>
            </PARAM>
            <ACTION
                builtin="clish_extn"
                > </ACTION>
        </COMMAND>
    </VIEW>
    <!-- end of bgp no commands-->
</CLISH_MODULE>
