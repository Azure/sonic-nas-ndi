<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE CLISH_MODULE [

<!ENTITY NAMESPACE                            "http://www.dellemc.com/networking/os10/dell-switch-resource">

<!ENTITY SP_CFG                               "/switch-profile-config">
<!ENTITY SP_CFG_ID                            "&SP_CFG;/id=${id}">
<!ENTITY SP_STATE                             "/switch-profile-state">
<!ENTITY SP_STATE_ID                          "&SP_STATE;/id=${id}">

<!ENTITY FILTER_PFX                           "Filter_Type:SUBTREE;Filter_Namespace:&NAMESPACE;;Filter_Conditions:">

]>

<CLISH_MODULE
    xmlns="http://www.dellemc.com/force10/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xsi:schemaLocation="http://www.dellemc.com/force10/XMLSchema
                        http://www.dellemc.com/force10/XMLSchema/clish.xsd"
    >
    <!--=======================================================-->
    <!--                   EXEC MODE                           -->
    <!--=======================================================-->
    <VIEW
        name="enable-view"
        >
        <!-- show switch-port-profile -->
        <COMMAND
            name="show switch-port-profile"
            help="Show current switch-port-profile info"
            pfeature="FEATURE_SWITCH_PROFILE"
            operation="get"
            namespace="&NAMESPACE;"
            yang_filter="&FILTER_PFX;&SP_STATE;"
            template="show_switch_profile.xsl"
            >
            <PARAM
                name="id"
                help="switch id"
                ptype="SWITCH_ID"
                optional="true"
                yang_filter="&FILTER_PFX;&SP_STATE_ID;"
                template="show_switch_profile.xsl">
            </PARAM>
            <ACTION
                builtin="clish_extn"
                />
        </COMMAND>
    </VIEW>
    <!--=======================================================-->
    <!--                CONFIG MODE                            -->
    <!--=======================================================-->
    <VIEW
        name="configure-view"
        >
        <!-- switch-port-profile <switch id> <profile-name> -->
        <COMMAND
            name="switch-port-profile"
            help="switch-port-profile configuration"
            pfeature="FEATURE_SWITCH_PROFILE"
            namespace="&NAMESPACE;"
            operation="edit-config"
            yang_key="&SP_CFG;/id"
            >
            <PARAM
                name="id"
                help="switch id"
                ptype="SWITCH_ID"
                yang_name="&SP_CFG_ID;"/>
            <PARAM
                name="profile-name"
                help=""
                ptype="sw-profile"
                prompt_fn="prompt_warning"
                prompt_str="Warning: Switch port profile will be applied only after a save and reload. All management port configurations will be retained but all other configurations will be wiped out after the reload."
                yang_name="&SP_CFG;/next-boot-profile=${profile-name}"/>
            <ACTION
                builtin="clish_extn"
                />
        </COMMAND>
        <!-- no switch-profile <switch-id> -->
        <COMMAND
            name="no switch-port-profile"
            help="Set the default switch port profile"
            pfeature="FEATURE_SWITCH_PROFILE"
            operation="edit-config"
            >
            <PARAM
                name="id"
                help="switch id"
                ptype="SWITCH_ID"
                namespace="&NAMESPACE;"
                sub_oper_yang="remove:switch-profile-config"
                prompt_fn="prompt_warning"
                prompt_str="Warning: Default switch port profile will be applied only after a save and reload. All management port configurations will be retained but all other configurations will be wiped out after the reload."
                yang_name="&SP_CFG_ID;"/>
            <ACTION
                builtin="clish_extn"
                />
        </COMMAND>
    </VIEW>
</CLISH_MODULE>

